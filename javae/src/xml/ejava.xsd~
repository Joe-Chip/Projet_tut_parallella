<?xml version="1.0" encoding="UTF-8" ?>

<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema">

  <xsd:element name="primitive">
    <xsd:simpleType>
      <xsd:restriction base="xsd:token">
        <xsd:enumeration value="boulean" />
	<xsd:enumeration value="byte" />
	<xsd:enumeration value="char" />
	<xsd:enumeration value="short" />
        <xsd:enumeration value="int" />
	<xsd:enumeration value="long" />
	<xsd:enumeration value="float" />
	<xsd:enumeration value="double" />
      </xsd:restriction>
    </xsd:simpleType>
  </xsd:element>

  <xsd:element name="collection">
    <xsd:complexType>
      <xsd:choice>
        <xsd:element ref="primitive" />
	<xsd:element name="object" type="xsd:IDREF" />
      </xsd:choice>
      <xsd:attribute name="type" use="required">
        <xsd:simpleType>
	  <xsd:restriction base="xsd:token">
       	    <xsd:enumeration value="array" />
	    <xsd:enumeration value="Vector" />
	    <xsd:enumeration value="ArrayList" />
	    <xsd:enumeration value="List" />
          </xsd:restriction>
    	</xsd:simpleType>
      </xsd:attribute>
      <xsd:attribute name="size" type="xsd:unsignedInt" use="required" />
    </xsd:complexType>
  </xsd:element>

  <xsd:element name="object">
    <xsd:complexType>
      <xsd:sequence>
	<xsd:element name="field" maxOccurs="unbounded">
	  <xsd:complexType>
	    <xsd:choice>
              <xsd:element ref="primitive" />
	      <xsd:element ref="collection" />
	      <xsd:element name="type" type="xsd:IDREF" />
	    </xsd:choice>
	    <xsd:attribute name="name" type="xsd:NCName" use="required" />
	  </xsd:complexType>
        </xsd:element>
      </xsd:sequence>
      <xsd:attribute name="name" type="xsd:ID" />
    </xsd:complexType>
  </xsd:element>

  <xsd:element name="module">
    <xsd:complexType>
      <xsd:sequence>
        <xsd:element name="argument" maxOccurs="unbounded">
	  <xsd:complexType>
	    <xsd:attribute name="name" type="xsd:NCName" use="required" />
	    <xsd:attribute name="type" type="xsd:IDREF" use="required" />
	  </xsd:complexType>
        </xsd:element>
	<xsd:element name="result" maxOccurs="unbounded">
	  <xsd:complexType>
	    <xsd:attribute name="name" type="xsd:NCName" use="required" />
	    <xsd:attribute name="type" type="xsd:IDREF" use="required" />
	  </xsd:complexType>
	</xsd:element>
      </xsd:sequence>
      <xsd:attribute name="name" type="xsd:NCName" use="required" />
      <xsd:attribute name="path" type="xsd:token" use="required" />
    </xsd:complexType>
  </xsd:element>

</xsd:schema>
